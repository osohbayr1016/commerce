(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81227,e=>{"use strict";var r=e.i(43476),s=e.i(71645);function t(){let[e,t]=(0,s.useState)(!1),[l,a]=(0,s.useState)(null),[d,n]=(0,s.useState)("");async function c(){t(!0),n(""),a(null);try{let e=await fetch("/api/admin/fix-image-urls",{method:"POST"}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to fix images");a(r)}catch(e){n(e instanceof Error?e.message:"Unknown error")}finally{t(!1)}}return(0,r.jsxs)("div",{className:"p-8 max-w-2xl",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-4",children:"Зургийн URL-ийг засах"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["Cloudflare R2-д хадгалсан зургуудын URL-ийг зөв хэлбэрт оруулна. Энэ нь ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"/commerce/products/"})," гэсэн хэсгийг арилгаж"," ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"/products/"})," болгоно."]}),(0,r.jsx)("button",{onClick:c,disabled:e,className:`px-6 py-3 rounded-lg text-base font-medium transition-colors ${e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"}`,children:e?"Засч байна...":"Зургийн URL засах"}),d&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-red-50 text-red-800 border border-red-200 rounded-lg",children:[(0,r.jsx)("strong",{children:"Алдаа:"})," ",d]}),l&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-green-50 text-green-800 border border-green-200 rounded-lg",children:[(0,r.jsx)("strong",{children:"Амжилттай!"}),(0,r.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,r.jsxs)("li",{children:["• ",l.message]}),(0,r.jsxs)("li",{children:["• Нийт бүтээгдэхүүн: ",l.total]}),(0,r.jsxs)("li",{children:["• Засагдсан: ",l.updated]})]}),l.errors&&l.errors.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("strong",{children:"Алдаанууд:"}),(0,r.jsx)("ul",{className:"mt-2 space-y-1",children:l.errors.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm",children:["• ",e]},s))})]})]})]})}e.s(["default",()=>t])}]);