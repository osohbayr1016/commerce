(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89271,e=>{"use strict";function t(e){if(e instanceof Error)return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e){if("message"in e)return String(e.message);if("msg"in e)return String(e.msg)}return"Тодорхойгүй алдаа гарлаа"}e.s(["getErrorMessage",()=>t])},77900,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(11795),a=e.i(89271);let l={company:{title:"E-Commerce",description:"Онлайн худалдааг хөгжүүлэгч платформ"},social:{facebook_url:"#",instagram_url:"#"},help_menu:{about_text:"Бидний тухай",about_url:"#",contact_text:"Холбоо барих",contact_url:"#",faq_text:"Түгээмэл асуултууд",faq_url:"#"},contact:{address:"Somewhere",phone:"99119911",email:"test@gmail.com"},bottom_links:{copyright:"Developed by Twissu",home_text:"Нүүр",home_url:"/",categories_text:"Ангилал",categories_url:"#",sale_text:"Хямдрал",sale_url:"#",profile_text:"Профайл",profile_url:"/profile"}};function i(){let e=[],t=1;for(let[s,r,a]of[["company","title",1],["company","description",2],["social","facebook_url",1],["social","instagram_url",2],["help_menu","about_text",1],["help_menu","about_url",1],["help_menu","contact_text",2],["help_menu","contact_url",2],["help_menu","faq_text",3],["help_menu","faq_url",3],["contact","address",1],["contact","phone",2],["contact","email",3],["bottom_links","copyright",1],["bottom_links","home_text",2],["bottom_links","home_url",2],["bottom_links","categories_text",3],["bottom_links","categories_url",3],["bottom_links","sale_text",4],["bottom_links","sale_url",4],["bottom_links","profile_text",5],["bottom_links","profile_url",5]]){let i=l[s]?.[r]??"";e.push({id:t++,section:s,key:r,value:i,display_order:a,is_active:!0})}return e}function o(){let[e,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0),[n,d]=(0,s.useState)(null),[x,m]=(0,s.useState)({section:"",key:"",value:"",display_order:0,is_active:!0}),[u,p]=(0,s.useState)(""),[g,h]=(0,s.useState)(!1),b=(0,r.createClient)(),y=(0,s.useCallback)(async()=>{try{let{data:e,error:t}=await b.from("footer_contents").select("*").order("section",{ascending:!0}).order("display_order",{ascending:!0});if(t){let e=(0,a.getErrorMessage)(t);e.includes("schema cache")||e.includes("does not exist")?(h(!0),l(i())):p(`Error: ${e}`);return}h(!1),l(e||[]),p("")}catch(e){p(`Error: ${(0,a.getErrorMessage)(e)}`),h(!0),l(i())}finally{c(!1)}},[b]);function f(){m({section:"",key:"",value:"",display_order:0,is_active:!0}),d(null),p("")}function _(e,t){m(s=>({...s,[e]:t}))}async function v(){if(g)return void p("Хүснэгт байхгүй тул хадгалах боломжгүй. Migration ажиллуулна уу.");c(!0);try{if(n){let{error:e}=await b.from("footer_contents").update({value:x.value,display_order:x.display_order,is_active:x.is_active}).eq("id",n);if(e)throw e;p("Footer content updated successfully")}else{let{error:e}=await b.from("footer_contents").insert([x]);if(e)throw e;p("Footer content created successfully")}f(),await y()}catch(e){p(`Error: ${(0,a.getErrorMessage)(e)}`)}finally{c(!1)}}async function j(e){if(!g)try{let{error:t}=await b.from("footer_contents").delete().eq("id",e);if(t)throw t;p("Footer content deleted successfully"),await y()}catch(e){p(`Error: ${(0,a.getErrorMessage)(e)}`)}}(0,s.useEffect)(()=>{y()},[y]);let N=["company","social","help_menu","contact","bottom_links"],k=N.map(t=>({section:t,items:e.filter(e=>e.section===t)}));return(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"Footer удирдах"}),(0,t.jsx)("p",{className:"text-base text-gray-600",children:"Footer агуулга нэмэх, засах, устгах"})]}),g&&(0,t.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-amber-50 text-amber-800 border border-amber-200",children:[(0,t.jsx)("strong",{children:"footer_contents"})," хүснэгт олдсонгүй. Supabase Dashboard → SQL Editor-ээр доорх SQL ажиллуулбал footer засварлагдах болно."]}),u&&(0,t.jsx)("div",{className:`mb-6 p-4 rounded-lg ${u.includes("Error")?"bg-red-50 text-red-800":"bg-green-50 text-green-800"}`,children:u}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Footer агуулга засах":"Шинэ footer агуулга нэмэх"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),(0,t.jsxs)("select",{value:x.section,onChange:e=>_("section",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!!n,required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select section"}),N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key"}),(0,t.jsx)("input",{type:"text",value:x.key,onChange:e=>_("key",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!!n,required:!0})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),(0,t.jsx)("textarea",{value:x.value,onChange:e=>_("value",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),(0,t.jsx)("input",{type:"number",value:x.display_order,onChange:e=>_("display_order",Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,t.jsx)("input",{type:"checkbox",checked:x.is_active,onChange:e=>_("is_active",e.target.checked),className:"rounded border-gray-300"}),(0,t.jsx)("label",{className:"text-sm text-gray-700",children:"Active"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)("button",{onClick:v,disabled:o||g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":n?"Update":"Create"}),n&&(0,t.jsx)("button",{onClick:f,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]}),k.map(({section:e,items:s})=>(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 capitalize",children:e.replace("_"," ")}),0===s.length?(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"No items in this section"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.key}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:e.value}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.display_order}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.is_active?"Active":"Inactive"})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right text-sm",children:[(0,t.jsx)("button",{onClick:()=>{m({section:e.section,key:e.key,value:e.value,display_order:e.display_order,is_active:e.is_active}),d(e.id),p("")},className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>j(e.id),disabled:g,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:"Delete"})]})]},e.id))})]})})]},e))]})}e.s(["default",()=>o],77900)}]);