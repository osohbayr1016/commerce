(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7585,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(11795);function a(){let[e,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[o,n]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1),[u,x]=(0,s.useState)(""),b=(0,r.createClient)();async function m(){try{let{data:e,error:t}=await b.from("site_settings").select("key, value").in("key",["site_name","site_description"]);if(t)throw t;e?.forEach(e=>{"site_name"===e.key&&a(e.value),"site_description"===e.key&&i(e.value)})}catch(e){}finally{n(!1)}}async function g(t){t.preventDefault(),d(!0),x("");try{for(let t of[{key:"site_name",value:e},{key:"site_description",value:l}]){let{error:e}=await b.from("site_settings").upsert(t,{onConflict:"key"});if(e)throw e}x("Тохиргоо амжилттай хадгалагдлаа!"),setTimeout(()=>x(""),3e3)}catch(e){x("Алдаа гарлаа. Дахин оролдоно уу.")}finally{d(!1)}}return((0,s.useEffect)(()=>{m()},[]),o)?(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)("div",{className:"text-center text-gray-600",children:"Ачааллаж байна..."})}):(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"Вэбсайтын тохиргоо"}),(0,t.jsx)("p",{className:"text-base text-gray-600",children:"Вэбсайтын үндсэн мэдээллийг засах"})]}),(0,t.jsx)("div",{className:"max-w-2xl",children:(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"siteName",className:"block text-base font-semibold text-black mb-2",children:"Вэбсайтын нэр"}),(0,t.jsx)("input",{type:"text",id:"siteName",value:e,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-base text-black focus:outline-none focus:ring-2 focus:ring-gray-400",placeholder:"Жишээ: shoez.mn",required:!0}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Вэбсайтын толгойд харагдах нэр"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"siteDescription",className:"block text-base font-semibold text-black mb-2",children:"Вэбсайтын тайлбар"}),(0,t.jsx)("textarea",{id:"siteDescription",value:l,onChange:e=>i(e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-base text-black focus:outline-none focus:ring-2 focus:ring-gray-400",placeholder:"Вэбсайтын тухай богино тайлбар"})]})]}),u&&(0,t.jsx)("div",{className:`p-4 rounded-lg ${u.includes("амжилттай")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:u}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{type:"submit",disabled:c,className:`px-6 py-3 rounded-lg text-base font-medium transition-colors ${c?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"}`,children:c?"Хадгалж байна...":"Хадгалах"}),(0,t.jsx)("button",{type:"button",onClick:m,className:"px-6 py-3 border border-gray-300 rounded-lg text-base font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Цуцлах"})]})]})})]})}e.s(["default",()=>a])}]);