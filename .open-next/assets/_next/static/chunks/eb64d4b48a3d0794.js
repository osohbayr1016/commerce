(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43066,e=>{"use strict";let t;var s=e.i(43476),r=e.i(71645);let l=e=>{let t,s=new Set,r=(e,r)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=r?r:"object"!=typeof l||null===l)?l:Object.assign({},t,l),s.forEach(s=>s(t,e))}},l=()=>t,n={setState:r,getState:l,getInitialState:()=>a,subscribe:e=>(s.add(e),()=>s.delete(e))},a=t=e(r,l,n);return n},n=e=>{let t=e?l(e):l,s=e=>(function(e,t=e=>e){let s=r.default.useSyncExternalStore(e.subscribe,r.default.useCallback(()=>t(e.getState()),[e,t]),r.default.useCallback(()=>t(e.getInitialState()),[e,t]));return r.default.useDebugValue(s),s})(t,e);return Object.assign(s,t),s};var a=e.i(74080);function i({isOpen:e,type:t,title:l,message:n,confirmText:i="OK",cancelText:o="Cancel",onConfirm:c,onCancel:d,onClose:u}){if((0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,r.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e&&u()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,u]),!e)return null;let x=()=>{c?c():u()},m=(0,s.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:u}),(0,s.jsx)("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:"​"}),(0,s.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,s.jsxs)("div",{children:[(()=>{switch(t){case"success":return(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,s.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,s.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});case"warning":return(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:(0,s.jsx)("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});case"confirm":return(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100",children:(0,s.jsx)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:l}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:n})})]})]}),(0,s.jsx)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:"confirm"===t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{type:"button",onClick:x,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",children:i}),(0,s.jsx)("button",{type:"button",onClick:()=>{d?d():u()},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:col-start-1 sm:text-sm",children:o})]}):(0,s.jsx)("button",{type:"button",onClick:x,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-span-2 sm:text-sm",children:i})})]})]})});return"u">typeof document?(0,a.createPortal)(m,document.body):null}let o=(t=e=>({isOpen:!1,type:"success",title:"",message:"",confirmText:"OK",cancelText:"Cancel",showModal:t=>e({...t,isOpen:!0}),closeModal:()=>e({isOpen:!1})}))?n(t):n;function c(){let e=o();return{showSuccess:(t,s,r="OK")=>{e.showModal({type:"success",title:t,message:s,confirmText:r})},showError:(t,s,r="OK")=>{e.showModal({type:"error",title:t,message:s,confirmText:r})},showWarning:(t,s,r="OK")=>{e.showModal({type:"warning",title:t,message:s,confirmText:r})},showConfirm:(t,s,r,l="Confirm",n="Cancel")=>{e.showModal({type:"confirm",title:t,message:s,confirmText:l,cancelText:n,onConfirm:r})},close:e.closeModal}}function d(){let e=o();return(0,s.jsx)(i,{isOpen:e.isOpen,type:e.type,title:e.title,message:e.message,confirmText:e.confirmText,cancelText:e.cancelText,onConfirm:e.onConfirm,onCancel:e.onCancel,onClose:e.closeModal})}e.s(["ModalProvider",()=>d,"useModal",()=>c],43066)},52292,e=>{"use strict";let t=[36,37,38,39],s=[1,2,3,4],r={1:"S",2:"M",3:"L",4:"XL"};function l(e,t){return"clothes"===e&&t in r?r[t]:String(t)}function n(e){return"shoes"===e?[...t]:"clothes"===e?[...s]:[]}e.s(["CLOTHES_SIZE_LABELS",0,r,"getSizeLabel",()=>l,"getSizesForType",()=>n])},92623,e=>{"use strict";var t=e.i(43476),s=e.i(22016),r=e.i(75157),l=e.i(71645),n=e.i(57688);function a({productId:e,images:s,imageColor:r,alt:a}){let[i,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async()=>{if(!e)return d(!1);let t=null;if(s&&Array.isArray(s)&&s.length>0){let e=s[0];e&&"string"==typeof e&&e.trim()&&!e.match(/^image\d+$/)&&(t=e.trim())}if(!t)try{let s=await fetch(`/api/products/${e}`);if(s.ok){let e=await s.json();if(e?.images&&Array.isArray(e.images)&&e.images.length>0){let s=e.images[0];s&&"string"==typeof s&&s.trim()&&!s.match(/^image\d+$/)&&(t=s.trim())}}}catch(e){}o(t||null),d(!1)})()},[e,s]),c)?(0,t.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",style:{backgroundColor:r||"#FAFAFA"},children:(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-gray-900 rounded-full animate-spin"})}):i?(0,t.jsx)(n.default,{src:i,alt:a,fill:!0,sizes:"80px",className:"object-cover",loading:"lazy"}):(0,t.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",style:{backgroundColor:r||"#FAFAFA"},children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}var i=e.i(52292);function o({item:e,onIncrease:l,onDecrease:n,onRemove:o}){return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)(s.default,{href:`/products/${e.slug}`,className:"relative w-20 h-20 rounded-lg border border-gray-200 bg-gray-50 overflow-hidden",children:(0,t.jsx)(a,{productId:e.id,images:e.images,imageColor:e.imageColor,alt:e.name})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(s.default,{href:`/products/${e.slug}`,className:"text-base font-semibold text-gray-900 hover:text-gray-700 block",children:e.name}),e.brand&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.brand}),null!=e.size&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Хэмжээ:"," ",(0,t.jsx)("span",{className:"font-medium",children:(0,i.getSizeLabel)(e.productType,e.size)})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,r.formatPrice)(e.price)," ₮ / ширхэг"]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Тоо ширхэг"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:n,className:"w-8 h-8 rounded-full border border-gray-300 text-gray-700 hover:border-gray-900 hover:bg-gray-50 transition-colors flex items-center justify-center text-sm font-medium","aria-label":"Тоо ширхэг багасгах",children:"−"}),(0,t.jsx)("span",{className:"w-10 text-center text-base font-semibold text-gray-900",children:e.quantity}),(0,t.jsx)("button",{onClick:l,className:"w-8 h-8 rounded-full border border-gray-300 text-gray-700 hover:border-gray-900 hover:bg-gray-50 transition-colors flex items-center justify-center text-sm font-medium","aria-label":"Тоо ширхэг нэмэх",children:"+"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[e.quantity," × ",(0,r.formatPrice)(e.price)," ₮"]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Нийт дүн"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[(0,r.formatPrice)(e.price*e.quantity)," ₮"]})]}),(0,t.jsx)("button",{onClick:o,className:"text-xs text-red-600 hover:text-red-800 hover:underline transition-colors",children:"Устгах"})]})]})}e.s(["default",()=>o],92623)},58583,e=>{"use strict";var t=e.i(43476),s=e.i(22016),r=e.i(18566),l=e.i(75144);let n=[{href:"/",label:"Нүүр",ariaLabel:"home"},{href:"/categories",label:"Ангилал",ariaLabel:"categories"},{href:"/sale",label:"Хямдрал",ariaLabel:"sale"},{href:"/cart",label:"Сагс",ariaLabel:"cart"},{href:"/profile",label:"Профайл",ariaLabel:"profile"}];function a(){let e=(0,r.usePathname)(),{totalItems:a}=(0,l.useCart)(),i="/"===e?0:e.startsWith("/categories")?1:e.startsWith("/sale")?2:e.startsWith("/cart")?3:4*!!e.startsWith("/profile");return(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-gray-200 bg-white md:hidden",children:(0,t.jsxs)("div",{className:"relative mx-auto flex max-w-7xl items-center px-4 pb-3 pt-2",children:[(0,t.jsx)("div",{className:"absolute bottom-2 left-4 right-4 top-2 pointer-events-none md:hidden","aria-hidden":!0,children:(0,t.jsx)("div",{className:"h-full w-[20%] rounded-lg bg-gray-100 transition-[transform] duration-300 ease-out",style:{transform:`translateX(${100*i}%)`}})}),n.map((e,r)=>(0,t.jsxs)(s.default,{href:e.href,className:"relative z-10 flex flex-1 flex-col items-center gap-1 text-xs text-gray-600 hover:text-gray-900 aria-[current=page]:text-gray-900 aria-[current=page]:font-medium","aria-label":e.ariaLabel,"aria-current":r===i?"page":void 0,children:[0===r&&(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10.5l9-7 9 7V20a1 1 0 01-1 1h-5v-6H9v6H4a1 1 0 01-1-1v-9.5z"})}),1===r&&(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),2===r&&(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h10l3 5-3 5H7L4 12l3-5z"})}),3===r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H6.4M7 13l-1.6 8H19M7 13l.4-2M9 21a1 1 0 100-2 1 1 0 000 2zm8 0a1 1 0 100-2 1 1 0 000 2z"})}),a>0&&(0,t.jsx)("span",{className:"absolute -top-1 right-0 flex h-5 min-w-[20px] items-center justify-center rounded-full bg-gray-900 px-1.5 text-[10px] font-semibold text-white",children:a>99?"99+":a})]}),4===r&&(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 12a4 4 0 100-8 4 4 0 000 8zm-7 9a7 7 0 0114 0H5z"})}),(0,t.jsx)("span",{children:e.label})]},e.href))]})})}e.s(["default",()=>a])},81647,e=>{"use strict";var t=e.i(43476),s=e.i(75144),r=e.i(71645),l=e.i(18566),n=e.i(75157),a=e.i(92623);function i({isOpen:e,onClose:i}){let{items:o,subtotal:c,updateQuantity:d,removeItem:u,totalItems:x}=(0,s.useCart)(),m=(0,l.useRouter)();return(0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 z-40 ${e?"opacity-50":"opacity-0 pointer-events-none"}`,onClick:i}),(0,t.jsxs)("div",{className:`fixed top-0 right-0 h-full w-full sm:w-[480px] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out z-50 flex flex-col ${e?"translate-x-0":"translate-x-full"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Миний сагс"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:[x," ширхэг бүтээгдэхүүн"]})]}),(0,t.jsx)("button",{onClick:i,className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors","aria-label":"Close cart",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:0===o.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,t.jsx)("svg",{className:"w-20 h-20 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Сагс хоосон байна"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Бүтээгдэхүүн нэмээд эхлүүлээрэй"})]}):(0,t.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,t.jsx)(a.default,{item:e,onIncrease:()=>d(e.id,e.quantity+1),onDecrease:()=>d(e.id,e.quantity-1),onRemove:()=>u(e.id)},`${e.id}-${e.size||"default"}`))})}),o.length>0&&(0,t.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Нийт дүн:"}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[(0,n.formatPrice)(c)," ₮"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{onClick:()=>{i(),m.push("/checkout")},className:"w-full rounded-lg bg-black px-6 py-3 text-white text-base font-medium hover:bg-gray-800 transition-colors",children:"Захиалга өгөх"}),(0,t.jsx)("button",{onClick:()=>{i(),m.push("/cart")},className:"w-full rounded-lg border border-gray-300 px-6 py-3 text-gray-900 text-base font-medium hover:bg-gray-50 transition-colors",children:"Сагс хэсэх"})]})]})]})]})}function o(){let{isDrawerOpen:e,closeDrawer:r}=(0,s.useCart)();return(0,t.jsx)(i,{isOpen:e,onClose:r})}e.s(["default",()=>o],81647)}]);