(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89641,e=>{"use strict";var t=e.i(43476),r=e.i(18566);function l({currentPage:e,totalPages:r,onPageChange:l}){let a=[],s=Math.max(1,e-Math.floor(2.5)),n=Math.min(r,s+5-1);n-s<4&&(s=Math.max(1,n-5+1));for(let e=s;e<=n;e++)a.push(e);return r<=1?null:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8",children:[(0,t.jsx)("button",{onClick:()=>l(e-1),disabled:1===e,className:"px-3 py-2 rounded border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>l(1),className:"px-3 py-2 rounded border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),s>2&&(0,t.jsx)("span",{className:"px-2 text-gray-500",children:"..."})]}),a.map(r=>(0,t.jsx)("button",{onClick:()=>l(r),className:`px-3 py-2 rounded border text-sm font-medium ${r===e?"bg-gray-900 text-white border-gray-900":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:r},r)),n<r&&(0,t.jsxs)(t.Fragment,{children:[n<r-1&&(0,t.jsx)("span",{className:"px-2 text-gray-500",children:"..."}),(0,t.jsx)("button",{onClick:()=>l(r),className:"px-3 py-2 rounded border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50",children:r})]}),(0,t.jsx)("button",{onClick:()=>l(e+1),disabled:e===r,className:"px-3 py-2 rounded border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})}function a({currentPage:e,totalPages:a}){let s=(0,r.useRouter)(),n=(0,r.useSearchParams)();return(0,t.jsx)(l,{currentPage:e,totalPages:a,onPageChange:e=>{let t=new URLSearchParams(n.toString());t.set("page",e.toString()),s.push(`?${t.toString()}`),window.scrollTo({top:0,behavior:"smooth"})}})}e.s(["default",()=>a],89641)},89673,e=>{"use strict";var t=e.i(43476),r=e.i(71645),l=e.i(22016);function a({banner:e,isFailed:r,onError:a}){return(0,t.jsxs)("div",{className:"relative w-full min-w-full h-full shrink-0 snap-center snap-always",children:[r||!e.image_url?(0,t.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500 text-lg font-medium",children:"E-Commerce"})}):(0,t.jsx)("img",{src:e.image_url,alt:e.title||"Banner",className:"w-full h-full object-cover",referrerPolicy:"no-referrer",onError:a}),(e.title||e.link)&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-white p-4",children:[e.title&&(0,t.jsx)("h2",{className:"text-2xl md:text-5xl font-bold mb-4 drop-shadow-lg",children:e.title}),e.link&&(0,t.jsx)(l.default,{href:e.link,className:"inline-block px-6 py-3 bg-white text-black font-medium rounded hover:bg-gray-100 transition-colors",children:"Дэлгэрэнгүй"})]})})]})}function s(){return(0,t.jsx)("section",{className:"bg-white w-full py-10 md:py-14 lg:py-16 border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-gray-500",children:"Your Company"}),(0,t.jsx)("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-semibold text-gray-900",children:"E-Commerce"}),(0,t.jsx)("p",{className:"text-gray-600 text-base md:text-lg",children:"Онлайн худалдааг хөгжүүлэгч платформ"})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-6 py-3 border border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white transition-colors text-sm md:text-base",children:[(0,t.jsx)("span",{children:"Дэлгүүр хэсэх"}),(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})}function n({count:e,currentIndex:r,onPrev:l,onNext:a,onGoTo:s}){return e<=1?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute bottom-3 left-0 right-0 z-10 flex justify-center gap-1.5",children:Array.from({length:e}).map((e,l)=>(0,t.jsx)("button",{onClick:()=>s(l),className:`h-1.5 rounded-full transition-all ${l===r?"bg-white w-6":"bg-white/50 w-1.5"}`,"aria-label":`Slide ${l+1}`},l))}),(0,t.jsx)("button",{type:"button",onClick:l,className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full bg-black/30 hover:bg-black/50 text-white md:opacity-0 md:group-hover:opacity-100 transition-opacity","aria-label":"Previous",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)("button",{type:"button",onClick:a,className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full bg-black/30 hover:bg-black/50 text-white md:opacity-0 md:group-hover:opacity-100 transition-opacity","aria-label":"Next",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}function o(e){return Array.isArray(e)?e.filter(e=>null!=e&&"object"==typeof e&&"string"==typeof e.id).map(e=>({id:String(e.id),image_url:"string"==typeof e.image_url?e.image_url:"",title:null!=e.title?String(e.title):null,link:null!=e.link?String(e.link):null})):[]}function i({initialBanners:e=[]}){let[l,i]=(0,r.useState)(o(e)),[c,d]=(0,r.useState)(0),[u,x]=(0,r.useState)(0===e.length),[h,m]=(0,r.useState)(new Set),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=`${window.location.origin}/api/hero`,t=!1;return async function(){try{let r=await fetch(e);if(t)return;if(r.ok){let e=await r.json(),t=o(e);t.length>0&&i(t)}}catch(e){t||console.error(e)}finally{t||x(!1)}}(),()=>{t=!0}},[]);let p=(0,r.useCallback)(e=>{let t=g.current;t&&t.scrollTo({left:e*t.offsetWidth,behavior:"smooth"})},[]);(0,r.useEffect)(()=>{if(l.length<=1)return;let e=setInterval(()=>{d(e=>(e+1)%l.length)},5e3);return()=>clearInterval(e)},[l.length]),(0,r.useEffect)(()=>{p(c)},[c,p]);let b=(0,r.useCallback)(()=>{let e=g.current;if(!e||0===l.length)return;let t=e.offsetWidth;d(Math.min(Math.round(e.scrollLeft/t),l.length-1))},[l.length]);return u?(0,t.jsx)("div",{className:"w-full aspect-video md:aspect-[21/9] max-h-[300px] md:max-h-[400px] bg-gray-100 animate-pulse"}):0===l.length?(0,t.jsx)(s,{}):(0,t.jsxs)("div",{className:"relative w-full bg-gray-100 group",children:[(0,t.jsx)("div",{ref:g,onScroll:b,className:"flex overflow-x-auto snap-x snap-mandatory scroll-smooth w-full aspect-video md:aspect-[21/9] max-h-[280px] sm:max-h-[320px] md:max-h-[420px] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden touch-pan-x",children:l.map(e=>(0,t.jsx)(a,{banner:e,isFailed:h.has(e.id),onError:()=>m(t=>new Set(t).add(e.id))},e.id))}),(0,t.jsx)(n,{count:l.length,currentIndex:c,onPrev:()=>d(e=>(e-1+l.length)%l.length),onNext:()=>d(e=>(e+1)%l.length),onGoTo:d})]})}e.s(["default",()=>i],89673)}]);