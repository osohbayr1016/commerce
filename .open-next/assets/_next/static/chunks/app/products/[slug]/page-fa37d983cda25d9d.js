(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2221],{1734:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(95155),a=r(20063),l=r(12115),n=r(64269),i=r(65380),o=r(52503),d=r(18747);function c(e){let{trigger:t,productImage:r,buttonRef:s,onComplete:a}=e,n=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{if(!t||n.current)return;n.current=!0;let e=s.current;if(!e)return void a();let l=window.innerWidth<768,i=document.querySelector(l?'nav.fixed.bottom-0 a[aria-label="cart"]':'header a[aria-label="cart"]');if(!i)return void a();let o=e.getBoundingClientRect(),d=i.getBoundingClientRect(),c=o.left+o.width/2,m=o.top+o.height/2,u=d.left+d.width/2,x=d.top+d.height/2,g=document.createElement("div");g.style.position="fixed",g.style.left="".concat(c,"px"),g.style.top="".concat(m,"px"),g.style.width="50px",g.style.height="50px",g.style.borderRadius="12px",g.style.backgroundColor="#111827",g.style.zIndex="10000",g.style.pointerEvents="none",g.style.transition="all 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55)",g.style.boxShadow="0 10px 25px rgba(0, 0, 0, 0.3)",r&&(r.startsWith("http")||r.startsWith("/")||r.startsWith("data:"))?(g.style.backgroundImage="url(".concat(r,")"),g.style.backgroundSize="cover",g.style.backgroundPosition="center",g.style.backgroundColor="transparent"):(g.style.display="flex",g.style.alignItems="center",g.style.justifyContent="center",g.innerHTML='\n        <svg width="24" height="24" fill="white" viewBox="0 0 24 24">\n          <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.15.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>\n        </svg>\n      '),document.body.appendChild(g),requestAnimationFrame(()=>{g.style.transform="scale(1.2) translateY(-10px)"}),setTimeout(()=>{g.style.transform="translate(".concat(u-c,"px, ").concat(x-m,"px) scale(0.5)"),g.style.opacity="0.9"},200),setTimeout(()=>{g.style.opacity="0",g.style.transform="translate(".concat(u-c,"px, ").concat(x-m,"px) scale(0.2)")},1e3),setTimeout(()=>{document.body.contains(g)&&document.body.removeChild(g),a(),n.current=!1},1200)},[t,r,s,a]),(0,l.useEffect)(()=>{t||(n.current=!1)},[t]),null}function m(e){let{trigger:t,buttonRef:r}=e;return(0,l.useEffect)(()=>{if(!t)return;let e=document.body,s=(t,r,s)=>{let a=document.createElement("div");a.style.position="fixed",a.style.left="".concat(t,"px"),a.style.top="".concat(r,"px"),a.style.width="6px",a.style.height="6px",a.style.borderRadius="50%",a.style.backgroundColor=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#ef4444","#ec4899"][s%6],a.style.zIndex="9999",a.style.pointerEvents="none",a.style.opacity="1",e.appendChild(a);let l=60+40*Math.random(),n=360*s/12*Math.PI/180,i=t+Math.cos(n)*l,o=r+Math.sin(n)*l;requestAnimationFrame(()=>{a.style.transition="all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)",a.style.transform="translate(".concat(i-t,"px, ").concat(o-r,"px) scale(0)"),a.style.opacity="0"}),setTimeout(()=>{e.contains(a)&&e.removeChild(a)},800)},a=r.current;if(a){let e=a.getBoundingClientRect(),t=e.left+e.width/2,r=e.top+e.height/2;for(let e=0;e<12;e++)setTimeout(()=>{s(t,r,e)},30*e)}return()=>{e.querySelectorAll('[style*="z-index: 9999"]').forEach(t=>{e.contains(t)&&e.removeChild(t)})}},[t,r]),null}function u(e){var t;let{product:r}=e,{user:u}=(0,i.A)(),{addItem:x}=(0,o._)(),{t:g}=(0,d.o)(),h=(0,a.useRouter)();(0,a.usePathname)();let p=(0,l.useRef)(null),[y,f]=(0,l.useState)(!1),[b,v]=(0,l.useState)(!1),[j,N]=(0,l.useState)(!1),w=r.description||"Манай дэлгүүр АНУ-аас бараагаа илгээдэг тул захиалга баталгаажсаны дараа 10–14 хоногийн дотор Монголд очих бөгөөд каргоны төлбөрийг тусад нь төлөхийг анхаарна уу.",C=e=>{x({id:String(r.id),name:r.nameEn,price:r.price,originalPrice:r.originalPrice,quantity:1,slug:r.slug,brand:r.brand,imageColor:r.imageColor,brandColor:r.brandColor,images:r.images||[]}),e||(v(!0),f(!0),N(!0),setTimeout(()=>{v(!1)},1e3),setTimeout(()=>{N(!1)},3e3)),e&&h.push("/checkout")};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[r.brand&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["brand ",r.brand]}),(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold text-gray-900 mt-2",children:r.nameEn})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-3xl md:text-4xl font-semibold text-gray-900",children:[(0,n.$)(r.price)," ₮"]}),r.discount>0&&(0,s.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:[(0,n.$)(r.originalPrice)," ₮"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[r.discount>0&&(0,s.jsxs)("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-gray-700",children:["-",r.discount,"%"]}),r.savings>0&&(0,s.jsxs)("span",{className:"text-gray-500",children:["Хэмнэлт: ",(0,n.$)(r.savings)," ₮"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Богино тайлбар"}),(0,s.jsx)("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed",children:w})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsx)(m,{trigger:b,buttonRef:p}),(0,s.jsx)(c,{trigger:y,productImage:null==(t=r.images)?void 0:t[0],buttonRef:p,onComplete:()=>f(!1)}),(0,s.jsx)("button",{ref:p,onClick:()=>C(!1),className:"flex-1 rounded-lg px-6 py-3 text-white text-base font-medium transition-all duration-500 ".concat(j?"bg-green-600 hover:bg-green-700 scale-105":"bg-gray-900 hover:bg-gray-800"),children:j?g("toast.success")||"Ажилттай":"Сагслах"}),(0,s.jsx)("button",{onClick:()=>C(!0),className:"flex-1 rounded-lg border border-gray-900 px-6 py-3 text-gray-900 text-base font-medium hover:bg-gray-50",children:"Захиалах"})]})]})}},1935:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(95155),a=r(20063),l=r(18747);function n(e){let{href:t,className:r=""}=e,n=(0,a.useRouter)(),{t:i}=(0,l.o)();return(0,s.jsxs)("button",{onClick:()=>{t?n.push(t):window.history.length>1?n.back():n.push("/")},className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors ".concat(r),children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),i("common.back")||"Back"]})}},2442:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(95155),a=r(12115),l=r(15239);function n(e){let{images:t,imageColor:r,productName:n}=e,[i,o]=(0,a.useState)(0),d=t.length||1;return(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex flex-row md:flex-col gap-2 order-2 md:order-1",children:t.map((e,t)=>(0,s.jsx)("button",{onClick:()=>o(t),className:"w-16 h-16 md:w-20 md:h-20 rounded border-2 transition-all overflow-hidden relative ".concat(i===t?"border-gray-900":"border-gray-200 hover:border-gray-400"),style:{backgroundColor:r},"aria-label":"View image ".concat(t+1),children:e?(0,s.jsx)(l.default,{src:e,alt:"".concat(n," ").concat(t+1),fill:!0,sizes:"80px",className:"object-cover",loading:"lazy"}):null},t))}),(0,s.jsx)("div",{className:"flex-1 order-1 md:order-2",children:(0,s.jsx)("div",{className:"w-full aspect-square rounded-lg border border-gray-200 bg-gray-50 flex items-center justify-center relative overflow-hidden",style:{backgroundColor:r},children:t[i]?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.default,{src:t[i],alt:n||"Product Image",fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover",priority:!0}),(0,s.jsxs)("span",{className:"absolute top-3 right-3 text-xs text-white bg-black bg-opacity-50 px-2 py-1 rounded z-10",children:[i+1," of ",d]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"absolute top-3 right-3 text-xs text-gray-500",children:[i+1," of ",d]}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:n||"Product Image"})]})})})]})}},17861:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(95155),a=r(20063),l=r(82435);function n(e){let{product:t}=e,r=(0,a.useRouter)(),{addToComparison:n,isInComparison:i,comparisonProducts:o}=(0,l.l)(),d=i(t.id);return(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,s.jsxs)("button",{onClick:()=>{let e={id:t.id,name_en:t.nameEn,name_mn:t.nameMn,brand:t.brand,price:t.price,original_price:t.originalPrice,discount:t.discount,images:t.images,description:t.description,brand_color:t.brandColor,image_color:t.imageColor};i(t.id)||n(e),r.push("/compare")},className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-lg text-gray-900 font-medium hover:border-gray-900 hover:bg-gray-50 transition",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d?"View Comparison":"Compare with Other Products"]}),o.length>0&&(0,s.jsxs)("p",{className:"text-xs text-center text-gray-500 mt-2",children:[o.length," product",o.length>1?"s":""," in comparison"]})]})}},38135:(e,t,r)=>{Promise.resolve().then(r.bind(r,33948)),Promise.resolve().then(r.bind(r,17861)),Promise.resolve().then(r.bind(r,2442)),Promise.resolve().then(r.bind(r,1734)),Promise.resolve().then(r.bind(r,25464)),Promise.resolve().then(r.bind(r,45670)),Promise.resolve().then(r.bind(r,57535)),Promise.resolve().then(r.bind(r,1935))},45670:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(95155),a=r(12115),l=r(25464);function n(){return(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white animate-pulse",children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("div",{className:"w-16 h-8 bg-gray-200 rounded"})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("div",{className:"w-full aspect-square bg-gray-200 rounded border border-gray-200"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-3"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-5 bg-gray-200 rounded w-20"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"})]})]}),(0,s.jsx)("div",{className:"pt-3 mt-auto",children:(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded-full"})})]})}function i(e){let{products:t,loading:r=!1,skeletonCount:a=10}=e;return r?(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-5 lg:gap-6",children:Array.from({length:a}).map((e,t)=>(0,s.jsx)(n,{},t))}):(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-5 lg:gap-6",children:t.map(e=>(0,s.jsx)(l.default,{product:e},e.id))})}function o(e){let{productId:t}=e,[r,l]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/products/".concat(t,"/recommendations?limit=6"));if(e.ok){let t=await e.json();l(t.products||[])}}catch(e){}finally{o(!1)}};t&&e()},[t]),n)?(0,s.jsxs)("div",{className:"py-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Танд зөвлөж байна"}),(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Уншиж байна..."})]}):0===r.length?null:(0,s.jsxs)("div",{className:"py-8 border-t border-gray-200",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Танд зөвлөж байна"}),(0,s.jsx)(i,{products:r})]})}},57535:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(95155),a=r(12115),l=r(65380);function n(e){let{rating:t,onRatingChange:r,readonly:l=!1,size:n="md"}=e,[i,o]=(0,a.useState)(0),d={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},c=()=>{l||o(0)},m=i||t;return(0,s.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{!l&&r&&r(e)},onMouseEnter:()=>{!l&&o(e)},onMouseLeave:c,disabled:l,className:"".concat(d[n]," ").concat(l?"cursor-default":"cursor-pointer"," transition-colors"),children:(0,s.jsx)("svg",{className:"".concat(d[n]," ").concat(e<=m?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},e))})}function i(e){let{productId:t,existingReview:r,onSuccess:i,onCancel:o}=e,{user:d}=(0,l.A)(),[c,m]=(0,a.useState)((null==r?void 0:r.rating)||0),[u,x]=(0,a.useState)((null==r?void 0:r.review_text)||""),[g,h]=(0,a.useState)(!1),[p,y]=(0,a.useState)(null);if(!d)return(0,s.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg text-center text-gray-600",children:"Нэвтэрч орж бүтээгдэхүүнийг худалдаж авсны дараа үнэлгээ өгөх боломжтой"});let f=async e=>{if(e.preventDefault(),0===c)return void y("Үнэлгээ сонгоно уу");h(!0),y(null);try{let e=r?"PUT":"POST",s=r?{review_id:r.id,rating:c,review_text:u.trim()||null}:{rating:c,review_text:u.trim()||null},a=await fetch("/api/products/".concat(t,"/reviews"),{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){let e=await a.json();throw Error(e.error||"Алдаа гарлаа")}i(),r||(m(0),x(""))}catch(e){y(e instanceof Error?e.message:"Үнэлгээ нэмэхэд алдаа гарлаа")}finally{h(!1)}};return(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Үнэлгээ"}),(0,s.jsx)(n,{rating:c,onRatingChange:m,readonly:!1})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"review-text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Сэтгэгдэл (сонголттой)"}),(0,s.jsx)("textarea",{id:"review-text",value:u,onChange:e=>x(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-300 text-sm",placeholder:"Бүтээгдэхүүний талаарх санал бодлоо бичнэ үү..."})]}),p&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:p}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"submit",disabled:g||0===c,className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm font-medium",children:g?"Хадгалж байна...":r?"Шинэчлэх":"Илгээх"}),o&&(0,s.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm font-medium",children:"Цуцлах"})]})]})}function o(e){let{productId:t,averageRating:r,totalReviews:o}=e,{user:d}=(0,l.A)(),[c,m]=(0,a.useState)([]),[u,x]=(0,a.useState)(!0),[g,h]=(0,a.useState)(1),[p,y]=(0,a.useState)(1),[f,b]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;x(!0);try{let s=await fetch("/api/products/".concat(t,"/reviews?page=").concat(e,"&limit=10"));if(s.ok){var r;let e=await s.json();m(e.reviews||[]),y((null==(r=e.pagination)?void 0:r.totalPages)||1)}}catch(e){}finally{x(!1)}};(0,a.useEffect)(()=>{N(g)},[t,g]);let w=async e=>{if(confirm("Энэ үнэлгээг устгахдаа итгэлтэй байна уу?"))try{(await fetch("/api/products/".concat(t,"/reviews?review_id=").concat(e),{method:"DELETE"})).ok&&N(g)}catch(e){}},C=d?c.find(e=>e.profiles.id===d.id):void 0;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Үнэлгээ ба сэтгэгдэл"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n,{rating:Math.round(r),readonly:!0,size:"lg"}),(0,s.jsx)("span",{className:"text-lg font-medium text-gray-900",children:r.toFixed(1)})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["(",o," үнэлгээ)"]})]})]}),d&&!C&&(0,s.jsx)("button",{onClick:()=>j(!v),className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 text-sm font-medium",children:v?"Цуцлах":"Үнэлгээ нэмэх"})]}),v&&d&&!C&&(0,s.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,s.jsx)(i,{productId:t,onSuccess:()=>{j(!1),N(g)},onCancel:()=>j(!1)})}),f&&C&&(0,s.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,s.jsx)(i,{productId:t,existingReview:C,onSuccess:()=>{b(null),N(g)},onCancel:()=>b(null)})}),u?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Уншиж байна..."}):0===c.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Хараахан үнэлгээ байхгүй байна"}):(0,s.jsx)("div",{className:"space-y-4",children:c.map(e=>(0,s.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.profiles.avatar_url?(0,s.jsx)("img",{src:e.profiles.avatar_url,alt:e.profiles.full_name||"User",className:"w-10 h-10 rounded-full"}):(0,s.jsx)("span",{className:"text-gray-600 text-sm font-medium",children:(e.profiles.full_name||"U")[0].toUpperCase()})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.profiles.full_name||"Хэрэглэгч"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:(e=>{let t=new Date(e);return new Intl.DateTimeFormat("mn-MN",{year:"numeric",month:"long",day:"numeric"}).format(t)})(e.created_at)})]})]}),(null==d?void 0:d.id)===e.profiles.id&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>b(f===e.id?null:e.id),className:"text-sm text-gray-600 hover:text-gray-900",children:"Засах"}),(0,s.jsx)("button",{onClick:()=>w(e.id),className:"text-sm text-red-600 hover:text-red-900",children:"Устгах"})]})]}),(0,s.jsx)(n,{rating:e.rating,readonly:!0,size:"sm"}),e.review_text&&(0,s.jsx)("p",{className:"mt-3 text-sm text-gray-700",children:e.review_text})]},e.id))}),p>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===g,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Өмнөх"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[g," / ",p]}),(0,s.jsx)("button",{onClick:()=>h(e=>Math.min(p,e+1)),disabled:g===p,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Дараах"})]})]})}},82435:(e,t,r)=>{"use strict";r.d(t,{ComparisonProvider:()=>i,l:()=>o});var s=r(95155),a=r(12115),l=r(66905);let n=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)([]),{showToast:o}=(0,l.d)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("comparison");if(e)try{i(JSON.parse(e))}catch(e){localStorage.removeItem("comparison")}},[]),(0,a.useEffect)(()=>{r.length>0?localStorage.setItem("comparison",JSON.stringify(r)):localStorage.removeItem("comparison")},[r]),(0,s.jsx)(n.Provider,{value:{comparisonProducts:r,addToComparison:e=>r.length>=4?void o("Maximum ".concat(4," products can be compared"),"error"):r.find(t=>t.id===e.id)?void o("Product already in comparison","info"):void(i(t=>[...t,e]),o("Added to comparison","success")),removeFromComparison:e=>{i(t=>t.filter(t=>t.id!==e)),o("Removed from comparison","info")},clearComparison:()=>{i([]),localStorage.removeItem("comparison"),o("Comparison cleared","info")},isInComparison:e=>r.some(t=>t.id===e)},children:t})}function o(){let e=(0,a.useContext)(n);if(!e)throw Error("useComparison must be used within ComparisonProvider");return e}}},e=>{e.O(0,[1500,5417,2619,6394,9971,3948,8747,5464,8441,1255,7358],()=>e(e.s=38135)),_N_E=e.O()}]);