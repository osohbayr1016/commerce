(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{6648:(e,n,s)=>{"use strict";s.d(n,{U:()=>i});var a=s(5417);function i(){let e="https://ejdwrepyuznanwujidai.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqZHdyZXB5dXpuYW53dWppZGFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNjk3NTYsImV4cCI6MjA4Mzk0NTc1Nn0.MRJe6csColzMRDpAWa-Ma99noAk6n8SbnXXHP2rNAJ4";return e&&n?(0,a.createBrowserClient)(e,n):(console.error("Missing Supabase environment variables"),(0,a.createBrowserClient)("https://placeholder.supabase.co","placeholder-key"))}},8290:(e,n,s)=>{Promise.resolve().then(s.bind(s,9508))},9508:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>t});var a=s(5155),i=s(2115),r=s(6648);function t(){let[e,n]=(0,i.useState)(""),[s,t]=(0,i.useState)(!1),o=(0,r.U)(),l=async()=>{t(!0),n("Running diagnostics...\n\n");try{let{data:{session:e}}=await o.auth.getSession();n(n=>n+"✓ Current session: ".concat(e?"Logged in":"Not logged in","\n")),e&&(n(n=>n+"  User ID: ".concat(e.user.id,"\n")),n(n=>n+"  Email: ".concat(e.user.email,"\n\n")));let{data:s,error:a}=await o.rpc("get_profile_columns"),{data:i,error:r}=await o.from("profiles").select("id, email, phone_number, full_name, role").limit(1);r?r.message.includes("column")&&r.message.includes("does not exist")?(n(e=>e+"✗ ERROR: Missing columns in profiles table!\n"),n(e=>e+"  Details: ".concat(r.message,"\n\n")),n(e=>e+"\uD83D\uDD27 FIX: Run QUICK_FIX_LOGIN.sql in Supabase SQL Editor\n\n")):n(e=>e+"✗ Profile check error: ".concat(r.message,"\n\n")):n(e=>e+"✓ Profiles table structure is correct\n\n");let{count:t}=await o.from("profiles").select("*",{count:"exact",head:!0});n(e=>e+"\uD83D\uDCCA Total users in database: ".concat(t,"\n\n")),n(e=>e+"Testing phone lookup:\n");let{data:l,error:c}=await o.from("profiles").select("email, phone_number").eq("phone_number","99999999").single();c?"PGRST116"===c.code?n(e=>e+"  ℹ️ No user with phone 99999999\n\n"):n(e=>e+"  ✗ Error: ".concat(c.message,"\n\n")):n(e=>e+"  ✓ Found user: ".concat(l.email,"\n\n")),n(e=>e+"\n✅ Diagnostics complete!\n\n"),n(e=>e+"NEXT STEPS:\n"),n(e=>e+"1. If you see errors above, run QUICK_FIX_LOGIN.sql\n"),n(e=>e+"2. Try logging in with your EMAIL (not phone)\n"),n(e=>e+"3. If still not working, create a new account at /auth/signup\n")}catch(e){n(n=>n+"\n❌ Fatal error: ".concat(e,"\n"))}finally{t(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"\uD83D\uDD0D Authentication Debugger"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Run diagnostics to find out why login isn't working"}),(0,a.jsx)("button",{onClick:l,disabled:s,className:"px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-400 mb-6",children:s?"Running...":"Run Diagnostics"}),e&&(0,a.jsx)("div",{className:"bg-gray-900 text-green-400 p-6 rounded-lg font-mono text-sm whitespace-pre-wrap",children:e}),(0,a.jsxs)("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-bold text-blue-900 mb-2",children:"Quick Fixes:"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[(0,a.jsxs)("li",{children:["Run ",(0,a.jsx)("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"QUICK_FIX_LOGIN.sql"})," in Supabase"]}),(0,a.jsxs)("li",{children:["Try logging in with your ",(0,a.jsx)("strong",{children:"email"})," (not phone number)"]}),(0,a.jsx)("li",{children:"Check browser console (F12) for error messages"}),(0,a.jsxs)("li",{children:["Create a new account at ",(0,a.jsx)("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"/auth/signup"})]})]})]})]})})})}}},e=>{e.O(0,[417,441,493,358],()=>e(e.s=8290)),_N_E=e.O()}]);