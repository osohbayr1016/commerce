(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1214],{83175:(e,a,n)=>{Promise.resolve().then(n.bind(n,86600))},86600:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>c});var r=n(95155),o=n(12115),i=n(96648),t=n(88566);let s=[{id:"1",brand:"Sasha Fabiani",nameEn:"WOMEN HEELED KNEE BOOTS",nameMn:"Эмэгтэй урт түрийтэй гутал",category:"boots",price:580500,originalPrice:645e3,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"2",brand:"Sasha Fabiani",nameEn:"WOMEN HEELED KNEE BOOTS",nameMn:"Эмэгтэй урт түрийтэй гутал",category:"boots",price:607500,originalPrice:675e3,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"3",brand:"CINDY C ERIC",nameEn:"WOMEN HEELED KNEE BOOTS",nameMn:"Эмэгтэй урт түрийтэй гутал",category:"boots",price:657e3,originalPrice:73e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"4",brand:"Sasha Fabiani",nameEn:"WOMEN HEELED KNEE BOOTS",nameMn:"Эмэгтэй урт түрийтэй гутал",category:"boots",price:601200,originalPrice:668e3,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"5",brand:"CINDY C ERIC",nameEn:"WOMEN HEELED KNEE BOOTS",nameMn:"Эмэгтэй урт түрийтэй гутал",category:"boots",price:657e3,originalPrice:73e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"6",brand:"Sasha Fabiani",nameEn:"WOMEN HEELED KNEE BOOTS",nameMn:"Эмэгтэй урт түрийтэй гутал",category:"boots",price:531e3,originalPrice:59e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"7",brand:"Sasha Fabiani",nameEn:"WOMEN HEELED KNEE BOOTS",nameMn:"Эмэгтэй урт түрийтэй гутал",category:"boots",price:531e3,originalPrice:59e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"8",brand:"CINDY C ERIC",nameEn:"WINTER WOMEN KNEE BOOTS",nameMn:"Эмэгтэй өвлийн урт түрийтэй гутал",category:"boots",price:56e4,originalPrice:8e5,discount:30,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"9",brand:"CINDY C ERIC",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:308e3,originalPrice:44e4,discount:30,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"10",brand:"Sasha Fabiani",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:225e3,originalPrice:25e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"11",brand:"Sasha Fabiani",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:288e3,originalPrice:48e4,discount:40,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"12",brand:"CINDY C ERIC",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:36e4,originalPrice:4e5,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"13",brand:"CINDY C ERIC",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:252e3,originalPrice:28e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"14",brand:"Tosca Blu",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:608e3,originalPrice:76e4,discount:20,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"15",brand:"Tosca Blu",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:48e4,originalPrice:6e5,discount:20,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"16",brand:"Sasha Fabiani",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:198e3,originalPrice:22e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"17",brand:"Sasha Fabiani",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:198e3,originalPrice:22e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"},{id:"18",brand:"CINDY C ERIC",nameEn:"WOMEN BAG",nameMn:"Эмэгтэй чөлөөт & өдөр тутмын цүнх",category:"bag",price:261e3,originalPrice:29e4,discount:10,brandColor:"#F5F5F5",imageColor:"#FAFAFA"}];function c(){let[e,a]=(0,o.useState)(!1),[n,c]=(0,o.useState)(""),[l,d]=(0,o.useState)([]),g=(0,i.U)();async function m(){a(!0),c(""),d([]);let e=[];try{let{count:n}=await g.from("products").select("*",{count:"exact",head:!0});if(n&&n>0&&(e.push("⚠️ Өгөгдлийн санд ".concat(n," бүтээгдэхүүн байна")),d([...e]),!confirm("Өгөгдлийн санд аль хэдийн ".concat(n," бүтээгдэхүүн байна.\n\nТа үргэлжлүүлбэл зөвхөн ШИНЭ бүтээгдэхүүн нэмэгдэх ба одоогийн өгөгдөл хэвээр үлдэнэ.\n\nҮргэлжлүүлэх үү?")))){e.push("❌ Хэрэглэгч цуцалсан"),d([...e]),c("Үйлдэл цуцлагдлаа"),a(!1);return}e.push("1. Ангилал шалгаж байна..."),d([...e]);let{data:r,error:o}=await g.from("categories").upsert([{name:"Boots",name_en:"Boots",name_mn:"Гутал",slug:"boots",display_order:1,is_active:!0},{name:"Bags",name_en:"Bags",name_mn:"Цүнх",slug:"bags",display_order:2,is_active:!0}],{onConflict:"slug",ignoreDuplicates:!1}).select();if(o)throw Error("Ангилал үүсгэхэд алдаа: ".concat(o.message));e.push("✓ ".concat((null==r?void 0:r.length)||0," ангилал бэлэн байна")),d([...e]);let i=null==r?void 0:r.find(e=>"boots"===e.slug),t=null==r?void 0:r.find(e=>"bags"===e.slug);e.push("2. Одоогийн бүтээгдэхүүнүүдийг шалгаж байна..."),d([...e]);let{data:l}=await g.from("products").select("sku"),m=new Set((null==l?void 0:l.map(e=>e.sku))||[]);e.push("3. Шинэ бүтээгдэхүүн нэмж байна..."),d([...e]);let b=s.filter(e=>!m.has("#".concat(e.id))).map(e=>({name_en:e.nameEn,name_mn:e.nameMn,brand:e.brand,sku:"#".concat(e.id),price:e.price,original_price:e.originalPrice,discount:e.discount||0,stock:Math.floor(50*Math.random())+10,sizes:[35,36,37,38,39,40],description:"".concat(e.nameMn," - ").concat(e.brand),subcategory:"boots"===e.category?"Гутал":"Цүнх",category_id:"boots"===e.category?null==i?void 0:i.id:null==t?void 0:t.id,brand_color:e.brandColor,image_color:e.imageColor,has_financing:!0,title:e.nameEn}));if(0===b.length){e.push("ℹ️ Бүх бүтээгдэхүүн аль хэдийн нэмэгдсэн байна"),d([...e]),c("Бүх бүтээгдэхүүн аль хэдийн өгөгдлийн санд байна!"),a(!1);return}e.push("→ ".concat(b.length," шинэ бүтээгдэхүүн нэмэгдэх болно")),d([...e]);let u=0;for(let a=0;a<b.length;a+=10){let n=b.slice(a,a+10),{error:r}=await g.from("products").insert(n);r?e.push("! Batch ".concat(Math.floor(a/10)+1," алдаа: ").concat(r.message)):(u+=n.length,e.push("- Batch ".concat(Math.floor(a/10)+1,": ").concat(n.length," бүтээгдэхүүн нэмэгдлээ"))),d([...e])}e.push("✓ Нийт ".concat(u," шинэ бүтээгдэхүүн нэмэгдлээ")),d([...e]);let{count:F}=await g.from("products").select("*",{count:"exact",head:!0});e.push("4. ✓ Баталгаажуулалт: Өгөгдлийн санд одоо ".concat(F," бүтээгдэхүүн байна")),d([...e]),c("Амжилттай! ".concat(u," шинэ бүтээгдэхүүн нэмэгдлээ."))}catch(n){let a=(0,t.u)(n);e.push("✗ Алдаа: ".concat(a)),d([...e]),c("Алдаа гарлаа: ".concat(a))}finally{a(!1)}}return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"Өгөгдөл нэмэх (Seed)"}),(0,r.jsx)("p",{className:"text-base text-gray-600",children:"Mock өгөгдлийг Supabase-д нэмэх"})]}),(0,r.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Мэдээлэл"}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600 mb-6",children:[(0,r.jsx)("li",{children:"✓ Энэ үйлдэл ЗӨВХӨН шинэ бүтээгдэхүүн нэмнэ"}),(0,r.jsx)("li",{children:"✓ Одоогийн бүтээгдэхүүн хэвээр үлдэнэ"}),(0,r.jsxs)("li",{children:["✓ Mock өгөгдлөөс ",s.length," бүтээгдэхүүн байна"]}),(0,r.jsx)("li",{children:"✓ Ангилал: Boots ба Bags автоматаар үүснэ"}),(0,r.jsx)("li",{children:"✓ Давхар бүтээгдэхүүн нэмэгдэхгүй"})]}),(0,r.jsx)("button",{onClick:m,disabled:e,className:"w-full px-6 py-3 rounded-lg text-base font-medium transition-colors ".concat(e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"),children:e?"Өгөгдөл нэмж байна...":"Шинэ өгөгдөл нэмэх"})]}),n&&(0,r.jsx)("div",{className:"p-4 rounded-lg ".concat(n.includes("амжилттай")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:n}),l.length>0&&(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Үйлдлийн лог"}),(0,r.jsx)("div",{className:"space-y-1 font-mono text-xs text-black",children:l.map((e,a)=>(0,r.jsx)("div",{children:e},a))})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"\uD83D\uDCA1 Зөвлөмж"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,r.jsx)("li",{children:"• Анхны удаа: Энэ дарж mock өгөгдөл нэмнэ үү"}),(0,r.jsx)("li",{children:"• Шинэ ангилал үүсгэх: Ангилал хуудас руу очино уу"}),(0,r.jsx)("li",{children:'• Бүтээгдэхүүн нэмэх: Бүтээгдэхүүн хуудсанд "+ Бүтээгдэхүүн нэмэх" товч дарна'}),(0,r.jsx)("li",{children:"• Энэ үйлдэл өгөгдөл устгахгүй - аюулгүй!"})]})]})]})]})}},88566:(e,a,n)=>{"use strict";function r(e){return e instanceof Error?e.message:"string"==typeof e?e:e&&"object"==typeof e&&"message"in e?String(e.message):"Тодорхойгүй алдаа гарлаа"}n.d(a,{u:()=>r})},96648:(e,a,n)=>{"use strict";n.d(a,{U:()=>s});var r=n(55417);let o="https://ejdwrepyuznanwujidai.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqZHdyZXB5dXpuYW53dWppZGFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNjk3NTYsImV4cCI6MjA4Mzk0NTc1Nn0.MRJe6csColzMRDpAWa-Ma99noAk6n8SbnXXHP2rNAJ4",t=null;function s(){return function(){if(!o||o.includes("placeholder")||o.includes("MISSING"))throw Error("❌ Supabase configuration missing!\n\nNEXT_PUBLIC_SUPABASE_URL is not set.\n\nTo fix this:\n1. Go to Cloudflare Dashboard → Workers & Pages → Your Project\n2. Settings → Environment variables\n3. Add NEXT_PUBLIC_SUPABASE_URL with your Supabase project URL\n\nSee DEPLOYMENT.md for detailed instructions.");if(!i||i.includes("placeholder")||i.includes("MISSING"))throw Error("❌ Supabase configuration missing!\n\nNEXT_PUBLIC_SUPABASE_ANON_KEY is not set.\n\nTo fix this:\n1. Go to Cloudflare Dashboard → Workers & Pages → Your Project\n2. Settings → Environment variables\n3. Add NEXT_PUBLIC_SUPABASE_ANON_KEY with your Supabase anon key\n\nSee DEPLOYMENT.md for detailed instructions.")}(),t||(t=(0,r.createBrowserClient)(o,i)),t}}},e=>{e.O(0,[1500,5417,8441,1255,7358],()=>e(e.s=83175)),_N_E=e.O()}]);