(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3684],{41583:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(95155),a=s(12115),l=s(96648),i=s(88566);function n(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[o,u]=(0,a.useState)({section:"",key:"",value:"",display_order:0,is_active:!0}),[x,m]=(0,a.useState)(""),p=(0,l.U)(),h=(0,a.useCallback)(async()=>{try{let{data:e,error:s}=await p.from("footer_contents").select("*").order("section",{ascending:!0}).order("display_order",{ascending:!0});if(s)throw s;t(e||[])}catch(e){m("Error: ".concat((0,i.u)(e)))}finally{n(!1)}},[p]);function y(){u({section:"",key:"",value:"",display_order:0,is_active:!0}),d(null),m("")}function g(e,t){u(s=>({...s,[e]:t}))}async function b(){n(!0);try{if(c){let{error:e}=await p.from("footer_contents").update({value:o.value,display_order:o.display_order,is_active:o.is_active}).eq("id",c);if(e)throw e;m("Footer content updated successfully")}else{let{error:e}=await p.from("footer_contents").insert([o]);if(e)throw e;m("Footer content created successfully")}y(),await h()}catch(e){m("Error: ".concat((0,i.u)(e)))}finally{n(!1)}}async function f(e){try{let{error:t}=await p.from("footer_contents").delete().eq("id",e);if(t)throw t;m("Footer content deleted successfully"),await h()}catch(e){m("Error: ".concat((0,i.u)(e)))}}(0,a.useEffect)(()=>{h()},[h]);let N=["company","social","help_menu","contact","bottom_links"],v=N.map(t=>({section:t,items:e.filter(e=>e.section===t)}));return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"Footer удирдах"}),(0,r.jsx)("p",{className:"text-base text-gray-600",children:"Footer агуулга нэмэх, засах, устгах"})]}),x&&(0,r.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat(x.includes("Error")?"bg-red-50 text-red-800":"bg-green-50 text-green-800"),children:x}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:c?"Footer агуулга засах":"Шинэ footer агуулга нэмэх"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),(0,r.jsxs)("select",{value:o.section,onChange:e=>g("section",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!!c,required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select section"}),N.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key"}),(0,r.jsx)("input",{type:"text",value:o.key,onChange:e=>g("key",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!!c,required:!0})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),(0,r.jsx)("textarea",{value:o.value,onChange:e=>g("value",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),(0,r.jsx)("input",{type:"number",value:o.display_order,onChange:e=>g("display_order",Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.is_active,onChange:e=>g("is_active",e.target.checked),className:"rounded border-gray-300"}),(0,r.jsx)("label",{className:"text-sm text-gray-700",children:"Active"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,r.jsx)("button",{onClick:b,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":c?"Update":"Create"}),c&&(0,r.jsx)("button",{onClick:y,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]}),v.map(e=>{let{section:t,items:s}=e;return(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 capitalize",children:t.replace("_"," ")}),0===s.length?(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"No items in this section"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.key}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:e.value}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.display_order}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})}),(0,r.jsxs)("td",{className:"px-4 py-3 text-right text-sm",children:[(0,r.jsx)("button",{onClick:()=>{u({section:e.section,key:e.key,value:e.value,display_order:e.display_order,is_active:e.is_active}),d(e.id),m("")},className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>f(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})]},t)})]})}},62705:(e,t,s)=>{Promise.resolve().then(s.bind(s,41583))},88566:(e,t,s)=>{"use strict";function r(e){if(e instanceof Error)return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e){if("message"in e)return String(e.message);if("msg"in e)return String(e.msg)}return"Тодорхойгүй алдаа гарлаа"}s.d(t,{u:()=>r})},96648:(e,t,s)=>{"use strict";s.d(t,{U:()=>n});var r=s(55417);let a="https://ejdwrepyuznanwujidai.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqZHdyZXB5dXpuYW53dWppZGFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNjk3NTYsImV4cCI6MjA4Mzk0NTc1Nn0.MRJe6csColzMRDpAWa-Ma99noAk6n8SbnXXHP2rNAJ4",i=null;function n(){!a||a.includes("placeholder")||a.includes("MISSING")?console.error("❌ Supabase configuration missing!\n\nNEXT_PUBLIC_SUPABASE_URL is not set.\n\nTo fix this:\n1. Go to Cloudflare Dashboard → Workers & Pages → Your Project\n2. Settings → Environment variables\n3. Add NEXT_PUBLIC_SUPABASE_URL with your Supabase project URL\n\nSee DEPLOYMENT.md for detailed instructions."):(!l||l.includes("placeholder")||l.includes("MISSING"))&&console.error("❌ Supabase configuration missing!\n\nNEXT_PUBLIC_SUPABASE_ANON_KEY is not set.\n\nTo fix this:\n1. Go to Cloudflare Dashboard → Workers & Pages → Your Project\n2. Settings → Environment variables\n3. Add NEXT_PUBLIC_SUPABASE_ANON_KEY with your Supabase anon key\n\nSee DEPLOYMENT.md for detailed instructions.");let e=!a||a.includes("placeholder")||a.includes("MISSING")?"https://placeholder.supabase.co":a,t=!l||l.includes("placeholder")||l.includes("MISSING")?"placeholder-key":l;return i||(i=(0,r.createBrowserClient)(e,t)),i}}},e=>{e.O(0,[1500,5417,8441,1255,7358],()=>e(e.s=62705)),_N_E=e.O()}]);