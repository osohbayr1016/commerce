(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{80601:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(95155),a=t(12115),n=t(96648);function i(){let[e,s]=(0,a.useState)(""),[t,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,b]=(0,a.useState)(""),m=(0,n.U)();async function p(){try{let{data:e,error:t}=await m.from("site_settings").select("key, value").in("key",["site_name","site_description"]);if(t)throw t;null==e||e.forEach(e=>{"site_name"===e.key&&s(e.value),"site_description"===e.key&&i(e.value)})}catch(e){}finally{o(!1)}}async function h(s){s.preventDefault(),d(!0),b("");try{for(let s of[{key:"site_name",value:e},{key:"site_description",value:t}]){let{error:e}=await m.from("site_settings").upsert(s,{onConflict:"key"});if(e)throw e}b("Тохиргоо амжилттай хадгалагдлаа!"),setTimeout(()=>b(""),3e3)}catch(e){b("Алдаа гарлаа. Дахин оролдоно уу.")}finally{d(!1)}}return((0,a.useEffect)(()=>{p()},[]),l)?(0,r.jsx)("div",{className:"p-8",children:(0,r.jsx)("div",{className:"text-center text-gray-600",children:"Ачааллаж байна..."})}):(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"Вэбсайтын тохиргоо"}),(0,r.jsx)("p",{className:"text-base text-gray-600",children:"Вэбсайтын үндсэн мэдээллийг засах"})]}),(0,r.jsx)("div",{className:"max-w-2xl",children:(0,r.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"siteName",className:"block text-base font-semibold text-black mb-2",children:"Вэбсайтын нэр"}),(0,r.jsx)("input",{type:"text",id:"siteName",value:e,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-base text-black focus:outline-none focus:ring-2 focus:ring-gray-400",placeholder:"Жишээ: shoez.mn",required:!0}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Вэбсайтын толгойд харагдах нэр"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"siteDescription",className:"block text-base font-semibold text-black mb-2",children:"Вэбсайтын тайлбар"}),(0,r.jsx)("textarea",{id:"siteDescription",value:t,onChange:e=>i(e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-base text-black focus:outline-none focus:ring-2 focus:ring-gray-400",placeholder:"Вэбсайтын тухай богино тайлбар"})]})]}),u&&(0,r.jsx)("div",{className:"p-4 rounded-lg ".concat(u.includes("амжилттай")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:u}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-3 rounded-lg text-base font-medium transition-colors ".concat(c?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"),children:c?"Хадгалж байна...":"Хадгалах"}),(0,r.jsx)("button",{type:"button",onClick:p,className:"px-6 py-3 border border-gray-300 rounded-lg text-base font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Цуцлах"})]})]})})]})}},89503:(e,s,t)=>{Promise.resolve().then(t.bind(t,80601))},96648:(e,s,t)=>{"use strict";t.d(s,{U:()=>l});var r=t(55417);let a="https://ejdwrepyuznanwujidai.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqZHdyZXB5dXpuYW53dWppZGFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNjk3NTYsImV4cCI6MjA4Mzk0NTc1Nn0.MRJe6csColzMRDpAWa-Ma99noAk6n8SbnXXHP2rNAJ4",i=null;function l(){!a||a.includes("placeholder")||a.includes("MISSING")?console.error("❌ Supabase configuration missing!\n\nNEXT_PUBLIC_SUPABASE_URL is not set.\n\nTo fix this:\n1. Go to Cloudflare Dashboard → Workers & Pages → Your Project\n2. Settings → Environment variables\n3. Add NEXT_PUBLIC_SUPABASE_URL with your Supabase project URL\n\nSee DEPLOYMENT.md for detailed instructions."):(!n||n.includes("placeholder")||n.includes("MISSING"))&&console.error("❌ Supabase configuration missing!\n\nNEXT_PUBLIC_SUPABASE_ANON_KEY is not set.\n\nTo fix this:\n1. Go to Cloudflare Dashboard → Workers & Pages → Your Project\n2. Settings → Environment variables\n3. Add NEXT_PUBLIC_SUPABASE_ANON_KEY with your Supabase anon key\n\nSee DEPLOYMENT.md for detailed instructions.");let e=!a||a.includes("placeholder")||a.includes("MISSING")?"https://placeholder.supabase.co":a,s=!n||n.includes("placeholder")||n.includes("MISSING")?"placeholder-key":n;return i||(i=(0,r.createBrowserClient)(e,s)),i}}},e=>{e.O(0,[1500,5417,8441,1255,7358],()=>e(e.s=89503)),_N_E=e.O()}]);