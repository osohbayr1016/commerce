(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{80601:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(95155),a=s(12115),l=s(96648);function i(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[n,c]=(0,a.useState)(!0),[o,d]=(0,a.useState)(!1),[u,b]=(0,a.useState)(""),x=(0,l.U)();async function m(){try{let{data:e,error:s}=await x.from("site_settings").select("key, value").in("key",["site_name","site_description"]);if(s)throw s;null==e||e.forEach(e=>{"site_name"===e.key&&t(e.value),"site_description"===e.key&&i(e.value)})}catch(e){}finally{c(!1)}}async function g(t){t.preventDefault(),d(!0),b("");try{for(let t of[{key:"site_name",value:e},{key:"site_description",value:s}]){let{error:e}=await x.from("site_settings").upsert(t,{onConflict:"key"});if(e)throw e}b("Тохиргоо амжилттай хадгалагдлаа!"),setTimeout(()=>b(""),3e3)}catch(e){b("Алдаа гарлаа. Дахин оролдоно уу.")}finally{d(!1)}}return((0,a.useEffect)(()=>{m()},[]),n)?(0,r.jsx)("div",{className:"p-8",children:(0,r.jsx)("div",{className:"text-center text-gray-600",children:"Ачааллаж байна..."})}):(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"Вэбсайтын тохиргоо"}),(0,r.jsx)("p",{className:"text-base text-gray-600",children:"Вэбсайтын үндсэн мэдээллийг засах"})]}),(0,r.jsx)("div",{className:"max-w-2xl",children:(0,r.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"siteName",className:"block text-base font-semibold text-black mb-2",children:"Вэбсайтын нэр"}),(0,r.jsx)("input",{type:"text",id:"siteName",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-base text-black focus:outline-none focus:ring-2 focus:ring-gray-400",placeholder:"Жишээ: shoez.mn",required:!0}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Вэбсайтын толгойд харагдах нэр"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"siteDescription",className:"block text-base font-semibold text-black mb-2",children:"Вэбсайтын тайлбар"}),(0,r.jsx)("textarea",{id:"siteDescription",value:s,onChange:e=>i(e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-base text-black focus:outline-none focus:ring-2 focus:ring-gray-400",placeholder:"Вэбсайтын тухай богино тайлбар"})]})]}),u&&(0,r.jsx)("div",{className:"p-4 rounded-lg ".concat(u.includes("амжилттай")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:u}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-3 rounded-lg text-base font-medium transition-colors ".concat(o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"),children:o?"Хадгалж байна...":"Хадгалах"}),(0,r.jsx)("button",{type:"button",onClick:m,className:"px-6 py-3 border border-gray-300 rounded-lg text-base font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Цуцлах"})]})]})})]})}},89503:(e,t,s)=>{Promise.resolve().then(s.bind(s,80601))},96648:(e,t,s)=>{"use strict";s.d(t,{U:()=>l});var r=s(55417);let a=null;function l(){return a||(a=(0,r.createBrowserClient)("https://ejdwrepyuznanwujidai.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqZHdyZXB5dXpuYW53dWppZGFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNjk3NTYsImV4cCI6MjA4Mzk0NTc1Nn0.MRJe6csColzMRDpAWa-Ma99noAk6n8SbnXXHP2rNAJ4")),a}}},e=>{e.O(0,[1500,5417,8441,1255,7358],()=>e(e.s=89503)),_N_E=e.O()}]);