(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005],{1935:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(95155),a=s(20063),l=s(18747);function n(e){let{href:t,className:s=""}=e,n=(0,a.useRouter)(),{t:i}=(0,l.o)();return(0,r.jsxs)("button",{onClick:()=>{t?n.push(t):window.history.length>1?n.back():n.push("/")},className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors ".concat(s),children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),i("common.back")||"Back"]})}},52006:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(95155),a=s(52619),l=s.n(a),n=s(64269),i=s(12115),c=s(15239);function o(e){let{productId:t,images:s,imageColor:a,alt:l}=e,[n,o]=(0,i.useState)(null),[d,x]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{if(!t)return x(!1);let e=null;if(s&&Array.isArray(s)&&s.length>0){let t=s[0];t&&"string"==typeof t&&t.trim()&&!t.match(/^image\d+$/)&&(e=t.trim())}if(!e)try{let s=await fetch("/api/products/".concat(t));if(s.ok){let t=await s.json();if((null==t?void 0:t.images)&&Array.isArray(t.images)&&t.images.length>0){let s=t.images[0];s&&"string"==typeof s&&s.trim()&&!s.match(/^image\d+$/)&&(e=s.trim())}}}catch(e){}o(e||null),x(!1)})()},[t,s]),d)?(0,r.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",style:{backgroundColor:a||"#FAFAFA"},children:(0,r.jsx)("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-gray-900 rounded-full animate-spin"})}):n?(0,r.jsx)(c.default,{src:n,alt:l,fill:!0,sizes:"80px",className:"object-cover",loading:"lazy"}):(0,r.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",style:{backgroundColor:a||"#FAFAFA"},children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}function d(e){let{item:t,onIncrease:s,onDecrease:a,onRemove:i}=e;return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)(l(),{href:"/products/".concat(t.slug),className:"relative w-20 h-20 rounded-lg border border-gray-200 bg-gray-50 overflow-hidden",children:(0,r.jsx)(o,{productId:t.id,images:t.images,imageColor:t.imageColor,alt:t.name})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)(l(),{href:"/products/".concat(t.slug),className:"text-base font-semibold text-gray-900 hover:text-gray-700 block",children:t.name}),t.brand&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:t.brand}),t.size&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Хэмжээ: ",(0,r.jsx)("span",{className:"font-medium",children:t.size})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,n.$)(t.price)," ₮ / ширхэг"]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Тоо ширхэг"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:a,className:"w-8 h-8 rounded-full border border-gray-300 text-gray-700 hover:border-gray-900 hover:bg-gray-50 transition-colors flex items-center justify-center text-sm font-medium","aria-label":"Тоо ширхэг багасгах",children:"−"}),(0,r.jsx)("span",{className:"w-10 text-center text-base font-semibold text-gray-900",children:t.quantity}),(0,r.jsx)("button",{onClick:s,className:"w-8 h-8 rounded-full border border-gray-300 text-gray-700 hover:border-gray-900 hover:bg-gray-50 transition-colors flex items-center justify-center text-sm font-medium","aria-label":"Тоо ширхэг нэмэх",children:"+"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[t.quantity," \xd7 ",(0,n.$)(t.price)," ₮"]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Нийт дүн"}),(0,r.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[(0,n.$)(t.price*t.quantity)," ₮"]})]}),(0,r.jsx)("button",{onClick:i,className:"text-xs text-red-600 hover:text-red-800 hover:underline transition-colors",children:"Устгах"})]})]})}},61368:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(95155),a=s(12115),l=s(20063),n=s(52006),i=s(88376),c=s(1935),o=s(65380),d=s(52503),x=s(64269);function m(){let{user:e,loading:t}=(0,o.A)(),{items:s,subtotal:m,updateQuantity:h,removeItem:u,clearCart:g}=(0,d._)(),f=(0,l.useRouter)();return((0,a.useEffect)(()=>{},[t,e,f]),t)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Уншиж байна..."})}):(0,r.jsx)("div",{className:"min-h-screen flex flex-col bg-white",children:(0,r.jsx)("main",{className:"flex-1 py-8 md:py-12",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(c.default,{})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold text-gray-900",children:"Миний сагс"}),s.length>0&&(0,r.jsx)("button",{onClick:g,className:"text-sm text-gray-500 hover:text-gray-900 transition-colors",children:"Бүгдийг устгах"})]}),0===(s||[]).length?(0,r.jsx)(i.default,{icon:(0,r.jsx)("svg",{className:"w-24 h-24 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),title:"Сагс хоосон байна",description:"Сагсанд бүтээгдэхүүн нэмээд захиалга өгөх боломжтой",action:{label:"Дэлгүүр хэсэх",onClick:()=>f.push("/")}}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Сагсанд"," ",(0,r.jsxs)("span",{className:"font-semibold text-gray-900",children:[(s||[]).reduce((e,t)=>e+t.quantity,0)," ","ширхэг"]})," ","бүтээгдэхүүн байна"]})}),(s||[]).map(e=>(0,r.jsx)(n.A,{item:e,onIncrease:()=>h(e.id,e.quantity+1),onDecrease:()=>h(e.id,e.quantity-1),onRemove:()=>u(e.id)},e.id)),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Бүтээгдэхүүний тоо:"," ",(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:[(s||[]).reduce((e,t)=>e+t.quantity,0)," ","ширхэг"]})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Нэгж бүтээгдэхүүн:"," ",(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:[(s||[]).length," төрөл"]})]})]}),(0,r.jsxs)("div",{className:"text-left sm:text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Нийт дүн:"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[(0,x.$)(m)," ₮"]})]})]}),(0,r.jsx)("button",{onClick:()=>f.push("/checkout"),className:"w-full sm:w-auto rounded-lg bg-black px-8 py-3 text-white text-base font-medium hover:bg-gray-800 transition-colors",children:"Захиалга өгөх"})]})]})]})})})}},88376:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(95155),a=s(52619),l=s.n(a);function n(e){let{icon:t,title:s,description:a,action:n}=e;return(0,r.jsxs)("div",{className:"text-center py-16 px-4",children:[t&&(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:t}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s}),a&&(0,r.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:a}),n&&(n.href?(0,r.jsx)(l(),{href:n.href,className:"inline-flex items-center px-6 py-3 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition-colors",children:n.label}):n.onClick?(0,r.jsx)("button",{onClick:n.onClick,className:"inline-flex items-center px-6 py-3 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition-colors",children:n.label}):null)]})}},94129:(e,t,s)=>{Promise.resolve().then(s.bind(s,61368)),Promise.resolve().then(s.bind(s,33948))}},e=>{e.O(0,[1500,5417,2619,6394,9971,3948,8747,8441,1255,7358],()=>e(e.s=94129)),_N_E=e.O()}]);